{% load static %}
<script src="{%static '../static/js/logOut.js' %}"></script>
<nav class="navbar navbar-expand-sm" id="navAdministrador">
  <div class="container-fluid">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <ion-icon name="menu-outline" id="iconoxd"></ion-icon>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="/vistaGestionarUsuarios/" style="color: white;">Gestionar Usuarios</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/vistaGestionarEmpleados/" style="color: white;">Gestionar Empleados</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/vistaGraficas/" style="color: white;">Graficas</a>
        </li>
      </ul>
    </div>
    <div class="select-menu">
      <div class="select-btn" title="Opciones">
        {% if user.userFoto != "" and user.userFoto != "False" %}
        <img src="../media/{{user.userFoto}}" alt="Foto Usuario" style="width:60px;" class="rounded-pill">
        {% else %}
        <img src="https://objetivoligar.com/wp-content/uploads/2017/03/blank-profile-picture-973460_1280.jpg"
          alt="No foto" style="width:60px;" class="rounded-pill">
        {% endif %}
      </div>
      <ul class="options">
        <li class="option" style="color: white;">
          {{user.email}}
        </li>

        <li class="option">
          <button onclick="admin()" class="btn btn-outline-danger" title="Inicio" id="btn-1">Inicio
            Administrador</button>
        </li>
        <li class="option">
          <button class="btn btn-outline-danger" id="btn-1" title="Ver Perfil" data-bs-toggle="modal"
            data-bs-target="#perfilModal" onclick="redireccionar('/vistaGestionarPerfilAdministrador/')">Ver
            Perfil</button>
        </li>
        <li class="option">
          <button onclick="salir()" class="btn btn-outline-danger" title="Cerrar SesiÃ³n" id="btn-1">Cerrar
            Session</button>
        </li>
      </ul>

   
    <script>
      const optionMenu = document.querySelector(".select-menu"),
        selectBtn = optionMenu.querySelector(".select-btn"),
        options = optionMenu.querySelectorAll(".option"),
        sBtn_text = optionMenu.querySelector(".sBtn-text");


      document.addEventListener("click", function (event) {
        const isInsideOptionMenu = optionMenu.contains(event.target);


        if (!isInsideOptionMenu) {
          optionMenu.classList.remove("active");
        }
      });

      selectBtn.addEventListener("click", function () {
        optionMenu.classList.toggle("active");
      });

      options.forEach(option => {
        option.addEventListener("click", function () {
          let selectedOption = option.querySelector(".option-text").innerText;
          sBtn_text.innerText = selectedOption;

          optionMenu.classList.remove("active");
        });
      });

      function redireccionar(url) {
        window.location.href = url;
      }
    </script>
     </div>
  </div>
</nav>